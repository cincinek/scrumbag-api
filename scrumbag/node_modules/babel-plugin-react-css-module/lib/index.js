"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const helper_plugin_utils_1 = require("@babel/helper-plugin-utils");
const plugin_syntax_jsx_1 = require("@babel/plugin-syntax-jsx");
const ImportDeclaration_1 = require("./transformers/ImportDeclaration");
const JSXAttribute_1 = require("./transformers/JSXAttribute");
const cache_1 = require("./cache");
exports.default = helper_plugin_utils_1.declare((api, options, dirname) => {
    api.assertVersion(7);
    return {
        name: 'react-css-module',
        inherits: plugin_syntax_jsx_1.default,
        pre() { },
        visitor: {
            ...ImportDeclaration_1.default,
            ...JSXAttribute_1.default,
        },
        post() {
            cache_1.default.clear();
        },
    };
});
